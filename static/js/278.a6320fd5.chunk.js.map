{"version":3,"file":"static/js/278.a6320fd5.chunk.js","mappings":"6LAkDA,UA9Ce,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0DF,EAAAA,EAAAA,UAAS,IAAnE,eAAOG,EAAP,KAA8BC,EAA9B,KACA,GAA0BC,EAAAA,EAAAA,MAA1B,eAAOC,EAAP,KAAcC,EAAd,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQH,EAAMI,IAAI,SACnBD,IACLE,EAAAA,EAAAA,IAAqBF,GAAOG,MAAK,SAAAC,GAAI,OAAIT,EAAyBS,EAA7B,GACtC,GAAE,CAACP,IAWJ,OACE,iCACE,0BACE,qBAEF,kBAAMQ,QAVW,SAAAC,GACnBA,EAAMC,iBACNT,EAAS,CAAEE,MAAOR,GACnB,EAOG,WACE,kBACEgB,KAAK,OACLhB,MAAOA,EACPiB,SAlBY,SAAAH,GAClBb,EAASa,EAAMI,OAAOlB,MACvB,EAiBOmB,YAAY,qBAEd,mBAAQH,KAAK,SAAb,wBAGF,wBACGd,EAAsBkB,KAAI,SAAAC,GAAK,OAC9B,yBACE,UAAC,KAAD,CAAMC,GAAE,UAAKD,EAAME,IAAnB,cAA2BF,EAAMG,MAAjC,QADOH,EAAME,GADe,QAQvC,C,+LC9CKE,EAAU,mCAGHC,EAAmB,mCAAG,+GAERC,EAAAA,EAAAA,IAAA,kEACsCF,IAH9B,uBAEvBb,EAFuB,EAEvBA,KAFuB,kBAKxBA,EAAKgB,SALmB,gCAO/BC,QAAQC,IAAR,MAP+B,yDAAH,qDAYnBC,EAAe,mCAAG,WAAMR,GAAN,kGAEJI,EAAAA,EAAAA,IAAA,6CACiBJ,EADjB,oBAC+BE,IAH3B,uBAEnBb,EAFmB,EAEnBA,KAFmB,kBAKpBA,GALoB,gCAO3BiB,QAAQC,IAAR,MAP2B,yDAAH,sDAYfpB,EAAoB,mCAAG,WAAMF,GAAN,kGAETmB,EAAAA,EAAAA,IAAA,0DAC8BnB,EAD9B,oBAC+CiB,EAD/C,+CAFS,uBAExBb,EAFwB,EAExBA,KAFwB,kBAKzBA,EAAKgB,SALoB,gCAOhCC,QAAQC,IAAR,MAPgC,yDAAH,sDAYpBE,EAAc,mCAAG,WAAMT,GAAN,kGAEHI,EAAAA,EAAAA,IAAA,6CACiBJ,EADjB,4BACuCE,IAHpC,uBAElBb,EAFkB,EAElBA,KAFkB,kBAKnBA,GALmB,gCAO1BiB,QAAQC,IAAR,MAP0B,yDAAH,sDAYdG,EAAgB,mCAAG,WAAMV,GAAN,kGAELI,EAAAA,EAAAA,IAAA,6CACiBJ,EADjB,4BACuCE,IAHlC,uBAEpBb,EAFoB,EAEpBA,KAFoB,kBAKrBA,GALqB,gCAO5BiB,QAAQC,IAAR,MAP4B,yDAAH,qD","sources":["pages/Movies/Movies.jsx","services/api/api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByKeyword } from 'services/api/api';\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [searchMoviesByKeyword, setSearchMoviesByKeyword] = useState([]);\n  const [param, setParam] = useSearchParams();\n\n  useEffect(() => {\n    const query = param.get('query');\n    if (!query) return;\n    fetchMoviesByKeyword(query).then(data => setSearchMoviesByKeyword(data));\n  }, [param]);\n\n  const handleQuery = event => {\n    setValue(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setParam({ query: value });\n  };\n\n  return (\n    <>\n      <div>\n        <br></br>\n      </div>\n      <form onClick={handleSubmit}>\n        <input\n          type=\"text\"\n          value={value}\n          onChange={handleQuery}\n          placeholder=\"enter a request\"\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      <ul>\n        {searchMoviesByKeyword.map(movie => (\n          <li key={movie.id}>\n            <Link to={`${movie.id}`}> {movie.title} </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '3969575b7b3cc6462971102333f767aa';\n\n//список самых популярных фильмов на сегодня для создания коллекции на главной странице.\nexport const fetchTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n    );\n    return data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//запрос полной информации о фильме для страницы кинофильма.\nexport const fetchMoviesByID = async id => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//поиск кинофильма по ключевому слову на странице фильмов.\nexport const fetchMoviesByKeyword = async query => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${API_KEY}&include_adult=false&language=en-US&page=1`\n    );\n    return data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//информация об актерском составе\nexport const fetchMovieCast = async id => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//информация об отзывах о фильме\nexport const fetchMovieReview = async id => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"names":["useState","value","setValue","searchMoviesByKeyword","setSearchMoviesByKeyword","useSearchParams","param","setParam","useEffect","query","get","fetchMoviesByKeyword","then","data","onClick","event","preventDefault","type","onChange","target","placeholder","map","movie","to","id","title","API_KEY","fetchTrendingMovies","axios","results","console","log","fetchMoviesByID","fetchMovieCast","fetchMovieReview"],"sourceRoot":""}