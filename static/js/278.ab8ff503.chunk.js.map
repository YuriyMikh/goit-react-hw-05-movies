{"version":3,"file":"static/js/278.ab8ff503.chunk.js","mappings":"sMAyDA,UArDe,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0DF,EAAAA,EAAAA,UAAS,IAAnE,eAAOG,EAAP,KAA8BC,EAA9B,KACA,GAA0BC,EAAAA,EAAAA,MAA1B,eAAOC,EAAP,KAAcC,EAAd,KAEMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQL,EAAMM,IAAI,SACnBD,IACLE,EAAAA,EAAAA,IAAqBF,GAAOG,MAAK,SAAAC,GAAI,OAAIX,EAAyBW,EAA7B,GACtC,GAAE,CAACT,IAWJ,OACE,iCACE,0BACE,qBAEF,kBAAMU,QAVW,SAAAC,GACnBA,EAAMC,iBACNX,EAAS,CAAEI,MAAOV,GACnB,EAOG,WACE,kBACEkB,KAAK,OACLlB,MAAOA,EACPmB,SAlBY,SAAAH,GAClBf,EAASe,EAAMI,OAAOpB,MACvB,EAiBOqB,YAAY,qBAEd,mBAAQH,KAAK,SAAb,wBAGF,wBACGhB,EAAsBoB,KAAI,SAAAC,GAAK,OAC9B,yBACE,SAAC,KAAD,CACEC,GAAE,kBAAaD,EAAME,GAAGC,YACxBC,MAAO,CAAEC,KAAMrB,GAFjB,SAIGgB,EAAMM,SALFN,EAAME,GADe,QAavC,C,+LCrDKK,EAAU,mCAGHC,EAAmB,mCAAG,+GAERC,EAAAA,EAAAA,IAAA,kEACsCF,IAH9B,uBAEvBhB,EAFuB,EAEvBA,KAFuB,kBAKxBA,EAAKmB,SALmB,gCAO/BC,QAAQC,IAAR,MAP+B,yDAAH,qDAYnBC,EAAe,mCAAG,WAAMX,GAAN,kGAEJO,EAAAA,EAAAA,IAAA,6CACiBP,EADjB,oBAC+BK,IAH3B,uBAEnBhB,EAFmB,EAEnBA,KAFmB,kBAKpBA,GALoB,gCAO3BoB,QAAQC,IAAR,MAP2B,yDAAH,sDAYfvB,EAAoB,mCAAG,WAAMF,GAAN,kGAETsB,EAAAA,EAAAA,IAAA,0DAC8BtB,EAD9B,oBAC+CoB,EAD/C,+CAFS,uBAExBhB,EAFwB,EAExBA,KAFwB,kBAKzBA,EAAKmB,SALoB,gCAOhCC,QAAQC,IAAR,MAPgC,yDAAH,sDAYpBE,EAAc,mCAAG,WAAMZ,GAAN,kGAEHO,EAAAA,EAAAA,IAAA,6CACiBP,EADjB,4BACuCK,IAHpC,uBAElBhB,EAFkB,EAElBA,KAFkB,kBAKnBA,GALmB,gCAO1BoB,QAAQC,IAAR,MAP0B,yDAAH,sDAYdG,EAAgB,mCAAG,WAAMb,GAAN,kGAELO,EAAAA,EAAAA,IAAA,6CACiBP,EADjB,4BACuCK,IAHlC,uBAEpBhB,EAFoB,EAEpBA,KAFoB,kBAKrBA,GALqB,gCAO5BoB,QAAQC,IAAR,MAP4B,yDAAH,qD","sources":["pages/Movies/Movies.jsx","services/api/api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByKeyword } from 'services/api/api';\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [searchMoviesByKeyword, setSearchMoviesByKeyword] = useState([]);\n  const [param, setParam] = useSearchParams();\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const query = param.get('query');\n    if (!query) return;\n    fetchMoviesByKeyword(query).then(data => setSearchMoviesByKeyword(data));\n  }, [param]);\n\n  const handleQuery = event => {\n    setValue(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setParam({ query: value });\n  };\n\n  return (\n    <>\n      <div>\n        <br></br>\n      </div>\n      <form onClick={handleSubmit}>\n        <input\n          type=\"text\"\n          value={value}\n          onChange={handleQuery}\n          placeholder=\"enter a request\"\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      <ul>\n        {searchMoviesByKeyword.map(movie => (\n          <li key={movie.id}>\n            <Link\n              to={`/movies/${movie.id.toString()}`}\n              state={{ from: location }}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '3969575b7b3cc6462971102333f767aa';\n\n//список самых популярных фильмов на сегодня для создания коллекции на главной странице.\nexport const fetchTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n    );\n    return data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//запрос полной информации о фильме для страницы кинофильма.\nexport const fetchMoviesByID = async id => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//поиск кинофильма по ключевому слову на странице фильмов.\nexport const fetchMoviesByKeyword = async query => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${API_KEY}&include_adult=false&language=en-US&page=1`\n    );\n    return data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//информация об актерском составе\nexport const fetchMovieCast = async id => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//информация об отзывах о фильме\nexport const fetchMovieReview = async id => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"names":["useState","value","setValue","searchMoviesByKeyword","setSearchMoviesByKeyword","useSearchParams","param","setParam","location","useLocation","useEffect","query","get","fetchMoviesByKeyword","then","data","onClick","event","preventDefault","type","onChange","target","placeholder","map","movie","to","id","toString","state","from","title","API_KEY","fetchTrendingMovies","axios","results","console","log","fetchMoviesByID","fetchMovieCast","fetchMovieReview"],"sourceRoot":""}